<!DOCTYPE html>
<!--[if IE 8]>
<html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]>
<html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en" class="no-js"> <!--<![endif]-->
<!-- BEGIN HEAD -->
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=9">
    <title>舜华能源 | 数据监控系统</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <meta content="" name="description"/>
    <meta content="" name="author"/>
    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <link href="media/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="media/css/bootstrap-responsive.min.css" rel="stylesheet" type="text/css"/>
    <link href="media/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
    <link href="media/css/style-metro.css" rel="stylesheet" type="text/css"/>
    <link href="media/css/style.css" rel="stylesheet" type="text/css"/>
    <link href="media/css/style-responsive.css" rel="stylesheet" type="text/css"/>
    <link href="media/css/default.css" rel="stylesheet" type="text/css" id="style_color"/>
    <link href="media/css/uniform.default.css" rel="stylesheet" type="text/css"/>
    <!-- END GLOBAL MANDATORY STYLES -->
    <!-- BEGIN PAGE LEVEL STYLES -->
    <link href="media/css/jquery.gritter.css" rel="stylesheet" type="text/css"/>
    <link href="media/css/daterangepicker.css" rel="stylesheet" type="text/css"/>
    <link href="media/css/fullcalendar.css" rel="stylesheet" type="text/css"/>
    <link href="media/css/jqvmap.css" rel="stylesheet" type="text/css" media="screen"/>
    <link href="media/css/jquery.easy-pie-chart.css" rel="stylesheet" type="text/css" media="screen"/>
    <!-- END PAGE LEVEL STYLES -->
    <link rel="shortcut icon" href="media/image/favicon.ico"/>
</head>
<!-- END HEAD -->
<!-- BEGIN BODY -->
<body class="page-header-fixed">

<!-- BEGIN HEADER -->
<div class="header navbar navbar-inverse navbar-fixed-top">
    <!-- BEGIN TOP NAVIGATION BAR -->
    <div class="navbar-inner">
        <div class="container-fluid">
            <!-- BEGIN LOGO -->
            <a class="brand" href="index.jsp">
                <img src="media/image/logo.png" alt="logo"/>
            </a>
            <!-- END LOGO -->
            <!-- BEGIN RESPONSIVE MENU TOGGLER -->
            <a href="javascript:;" class="btn-navbar collapsed" data-toggle="collapse" data-target=".nav-collapse">
                <img src="media/image/menu-toggler.png" alt=""/>
            </a>
            <!-- END RESPONSIVE MENU TOGGLER -->
            <!-- BEGIN TOP NAVIGATION MENU -->
            <ul class="nav pull-right">
                <li class="dropdown user">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        <img alt="" src="media/image/avatar1_small.jpg"/>
                        <span class="username">用户</span>
                        <i class="icon-angle-down"></i>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="extra_profile.html"><i class="icon-user"></i> 用户信息</a></li>
                        <li><a href="extra_lock.html"><i class="icon-lock"></i> 锁屏</a></li>
                        <li><a href="login.html"><i class="icon-key"></i> 退出登录</a></li>
                    </ul>
                </li>
                <!-- END USER LOGIN DROPDOWN -->
            </ul>
            <!-- END TOP NAVIGATION MENU -->
        </div>
    </div>
    <!-- END TOP NAVIGATION BAR -->
</div>
<div class="page-container">
    <div class="page-sidebar nav-collapse collapse">
        <ul class="page-sidebar-menu">
            <li class="">
                <a href="javascript:;">
                    <i class="icon-cogs"></i>
                    <span class="title">安亭站</span>
                    <span class="arrow "></span>
                </a>
                <ul class="sub-menu">
                    <li>
                        <a href="anting">
                            数据监控</a>
                    </li>
                    <li>
                        <a href="report_anting" target="_blank">
                            报表查看</a>
                    </li>
                    <li>
                        <a href="amountdata">
                            加氢量统计</a>
                    </li>
                </ul>
            </li>
            <li class="start">
                <a href="index.jsp">
                    <i class="icon-home"></i>
                    <span class="title">大连站1</span>
                    <span class="arrow"></span>
                </a>
                <ul class="sub-menu">
                    <li>
                        <a href="dalian1">
                            数据监控</a>
                    </li>
                    <li>
                        <a href="report_dalian1" target="_blank">
                            报表查看</a>
                    </li>
                    <li>
                        <a href="amount_data_dalian1">
                            加氢量统计</a>
                    </li>
                </ul>
            </li>
            <li class="start">
                <a href="index.jsp">
                    <i class="icon-home"></i>
                    <span class="title">大连站2</span>
                    <span class="arrow"></span>
                </a>
                <ul class="sub-menu">
                    <li>
                        <a href="dalian2">
                            数据监控</a>
                    </li>
                    <li>
                        <a href="report_dalian2" target="_blank">
                            报表查看</a>
                    </li>
                    <li>
                        <a href="amount_data_dalian2">
                            加氢量统计</a>
                    </li>
                </ul>
            </li>
            <li class="start">
                <a href="index.jsp">
                    <i class="icon-home"></i>
                    <span class="title">云浮站</span>
                    <span class="arrow"></span>
                </a>
                <ul class="sub-menu">
                    <li>
                        <a href="yunfu">
                            数据监控</a>
                    </li>
                    <li>
                        <a href="report_yunfu" target="_blank">
                            报表查看</a>
                    </li>
                    <li>
                        <a href="amount_data_yunfu">
                            加氢量统计</a>
                    </li>
                </ul>
            </li>
            <!--<li class="start">
                <a href="index.jsp">
                    <i class="icon-home"></i>
                    <span class="title">其余站点</span>
                    <!--<span class=""></span>-->
                </a>
            </li>
            <li class="last">
                <a href="charts.html">
                    <i class="icon-bar-chart"></i>
                    <span class="title">图表信息</span>
                </a>
            </li>
        </ul>
        <!-- END SIDEBAR MENU -->
    </div>
    <!-- END SIDEBAR -->
    <!-- BEGIN PAGE -->
    <div class="page-content">
        <div class="container-fluid">
            <div class="row-fluid">
                <div class="span12">
                    <div class="color-panel hidden-phone">
                        <div class="color-mode-icons icon-color"></div>
                        <div class="color-mode-icons icon-color-close"></div>
                        <div class="color-mode">
                            <p>主题颜色</p>
                            <ul class="inline">
                                <li class="color-black current color-default" data-style="default"></li>
                                <li class="color-blue" data-style="blue"></li>
                                <li class="color-brown" data-style="brown"></li>
                                <li class="color-purple" data-style="purple"></li>
                                <li class="color-grey" data-style="grey"></li>
                                <li class="color-white color-light" data-style="light"></li>
                            </ul>
                            <label>
                                <span>布局</span>
                                <select class="layout-option m-wrap small">
                                    <option value="fluid" selected>流式布局</option>
                                    <option value="boxed">盒式布局</option>
                                </select>
                            </label>
                            <label>
                                <span>底部</span>
                                <select class="footer-option m-wrap small">
                                    <option value="fixed">固定</option>
                                    <option value="default" selected>默认</option>
                                </select>
                            </label>
                        </div>
                    </div>
                    <h3 class="page-title">
                        安亭站
                        <small>站点示意图</small>
                    </h3>
                    <ul class="breadcrumb">
                        <li>
                            <i class="icon-home"></i>
                            <a href="index.jsp">Home</a>
                            <i class="icon-angle-right"></i>
                        </li>
                        <li><a href="#">安亭站</a></li>
                    </ul>
                </div>
            </div>
            <div id="dashboard">
                <div class="row-fluid">
                    <div class="span3 responsive" data-tablet="span6" data-desktop="span3">
                    </div>
                    <div class="span3 responsive" data-tablet="span6" data-desktop="span3">
                        <div class="dashboard-stat green"></div>
                    </div>
                    <div class="span3 responsive" data-tablet="span6  fix-offset" data-desktop="span3">
                    </div>
                    <div class="span3 responsive" data-tablet="span6" data-desktop="span3">
                        <div class="dashboard-stat yellow"></div>
                    </div>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="row-fluid">
                <div id="main" style="height:400px"></div>
                <div id="main1" style="height:400px"></div>
                <div id="main3" style="height:400px"></div>
            </div>
        </div>
    </div>
</div>
<div class="footer">
    <div class="footer-inner">
        Copyright©2016 SUNWISE.SH.CN. All Rights Reserved. <a target="_blank" href="http://www.sunwise.sh.cn/">上海舜华新能源系统有限公司</a>版权所有.
    </div>
    <div class="footer-tools">
			<span class="go-top">
			<i class="icon-angle-up"></i>
			</span>
    </div>
</div>
<script src="media/js/jquery-1.10.1.min.js" type="text/javascript"></script>
<script src="media/js/jquery-migrate-1.2.1.min.js" type="text/javascript"></script>
<script src="media/js/jquery-ui-1.10.1.custom.min.js" type="text/javascript"></script>
<script src="media/js/bootstrap.min.js" type="text/javascript"></script>
<script src="media/js/app.js" type="text/javascript"></script>
<script src="jslib/js/echarts.min.js"></script>
<script type="text/javascript">
    var date7 = GetDateStr(-7);
    var date6 = GetDateStr(-6);
    var date5 = GetDateStr(-5);
    var date4 = GetDateStr(-4);
    var date3 = GetDateStr(-3);
    var date2 = GetDateStr(-2);
    var date1 = GetDateStr(-1);
    var dates = [date7, date6, date5, date4, date3, date2, date1];
    var months = ["1月份", "2月份", "3月份", "4月份", "5月份", "6月份", "7月份", "8月份", "9月份", "10月份"];

    var myChart = echarts.init(document.getElementById('main'));
    myChart.setOption({
        tooltip: {
            trigger: 'axis',
            show: true
        },
        toolbox: {
            feature: {
                dataView: {show: true, readOnly: false},
                magicType: {show: true, type: ['line', 'bar']},
                restore: {show: true},
                saveAsImage: {show: true}
            }
        },
        legend: {
            data: ['最近一周A总量',"最近一周B总量"]
        },
        xAxis: [{
            type: 'category',
            data: dates
        }],
        yAxis: [{
            type: 'value',
            axisLabel: {
                formatter: '{value} L'
            },
        }],
        series: [{
            name: "最近一周A总量",
            type: "bar",
            data: []
        },{
            name: "最近一周B总量",
            type: "bar",
            data: []
        }]
    });

    $.ajax({
        url: 'json/data.json',
        type: 'POST',
        'success': function (data) {
            myChart.setOption({
                series: [{
                    // 根据名字对应到相应的系列
                    name: '最近一周A总量',
                    data: data.data
                },{
                        // 根据名字对应到相应的系列
                        name: '最近一周B总量',
                        data: data.data
                }]
            });
        },
        'error': {}
    })


    var myChart1 = echarts.init(document.getElementById('main1'));
    myChart1.setOption({
        tooltip: {
            trigger: 'axis',
            show: true
        },
        toolbox: {
            feature: {
                dataView: {show: true, readOnly: false},
                magicType: {show: true, type: ['line', 'bar']},
                restore: {show: true},
                saveAsImage: {show: true}
            }
        },
        legend: {
            data: ['A总量月统计',"B总量月统计"]
        },
        xAxis: [{
            type: 'category',
            data: months
        }],
        yAxis: [{
            type: 'value',
            axisLabel: {
                formatter: '{value} L'
            },
        }],
        series: [{
            name: "A总量月统计",
            type: "bar",
            data: []
        },{
            name: "B总量月统计",
            type: "bar",
            data: []
        }]
    });

    $.ajax({
        url: 'json/data1.json',
        type: 'POST',
        'success': function (data) {
            myChart1.setOption({
                series: [{
                    // 根据名字对应到相应的系列
                    name: 'A总量月统计',
                    data: data.data
                },{
                // 根据名字对应到相应的系列
                name: 'B总量月统计',
                        data: data.data
            }]
            });
        },
        'error': {}
    })


    function GetDateStr(AddDayCount) {
        var dd = new Date();
        dd.setDate(dd.getDate() + AddDayCount);//获取AddDayCount天后的日期
        var y = dd.getFullYear();
        var m = (dd.getMonth() + 1) < 10 ? "0" + (dd.getMonth() + 1) : (dd.getMonth() + 1);//获取当前月份的日期，不足10补0
        var d = dd.getDate() < 10 ? "0" + dd.getDate() : dd.getDate(); //获取当前几号，不足10补0
        return y + "-" + m + "-" + d;
    }


    var myChart3=echarts.init(document.getElementById("main3"));
    myChart3.setOption({
        title: {
            text: '各个月份占比',
            subtext: '',
            x: 'center'
        },
        tooltip: {
            trigger: 'item',
            formatter: "{a} <br/>{b} : {c} ({d}%)"
        },
        legend: {
            orient: 'vertical',
            left: 'left',
            data: months
        },
        series: [
            {
                name: '月份',
                type: 'pie',
                radius: '55%',
                center: ['50%', '60%'],
                data: [
                ],
                itemStyle: {
                    emphasis: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                    }
                }
            }
        ]
    });


    $.ajax({
        url: 'json/data2.json',
        type: 'POST',
        'success': function (data) {
            myChart3.setOption({
                series: [{
                    // 根据名字对应到相应的系列
                    name: '月份',
                    data: data.data
                }]
            });
        },
        'error': {}
    })
   /* if (option && typeof option === "object") {
        myChart.setOption(option, true);
    }*/
    jQuery(document).ready(function () {
        App.init(); // initlayout and core plugins
    });


</script>
</body>
</html>
